<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Envoyer un colis – Baba Colis</title>

<style>
    body { font-family: Arial, sans-serif; background:#f5f5f5; margin:0; padding:0; }
    .card { background:white; padding:20px; border-radius:10px; max-width:600px; margin:20px auto; }
    label { font-weight:bold; margin-top:15px; display:block; }
    select, input { width:100%; padding:12px; margin-top:5px; border-radius:8px; border:1px solid #ccc; }
    button { width:100%; padding:15px; background:#008000; color:white; border:none; border-radius:8px; font-size:18px; margin-top:20px; cursor:pointer; }
    button:hover { background:#006600; }
</style>
</head>

<body>

<div class="card">
    <h2>Envoyer un colis</h2>

    <label>Ville de départ</label>
    <select id="depart">
        <option>Saint-Louis</option>
        <option>Louga</option>
        <option>Guéoul</option>
        <option>Kébémer</option>
        <option>Mékhé</option>
        <option>Tivaouane</option>
        <option>Thiès</option>
        <option>Dakar</option>
    </select>

    <label>Ville d’arrivée</label>
    <select id="arrivee">
        <option>Saint-Louis</option>
        <option>Louga</option>
        <option>Guéoul</option>
        <option>Kébémer</option>
        <option>Mékhé</option>
        <option>Tivaouane</option>
        <option>Thiès</option>
        <option>Dakar</option>
    </select>

    <label>Poids du colis (kg)</label>
    <input type="number" id="poids" placeholder="Ex : 2">

    <button onclick="calculer()">Calculer le prix</button>

    <h3 id="resultat"></h3>

    <button id="btnPaiement" style="display:none; background:#004d00;">
        Payer maintenant
    </button>
</div>

<script>
function calculer() {
    let depart = document.getElementById("depart").value;
    let arrivee = document.getElementById("arrivee").value;
    let poids = Number(document.getElementById("poids").value);

    if (poids <= 0) {
        alert("Veuillez entrer un poids valide.");
        return;
    }

    // Axe officiel
    const ordre = [
        "Saint-Louis",
        "Louga",
        "Guéoul",
        "Kébémer",
        "Mékhé",
        "Tivaouane",
        "Thiès",
        "Dakar"
    ];

    // Distance en nombre de villes
    let distance = Math.abs(ordre.indexOf(depart) - ordre.indexOf(arrivee));

    // Prix distance
    let prixDistance = 0;

    if (distance === 0) {
        prixDistance = 0;
    } else {
        prixDistance = 1000 + (distance - 1) * 500;
    }

    // Prix poids
    let prixPoids = 500;
    if (poids > 1) {
        prixPoids = 500 + (Math.ceil(poids - 1) * 500);
    }

    // Total
    let prix = prixDistance + prixPoids;

    document.getElementById("resultat").innerHTML =
        "Prix total : <b>" + prix + " CFA</b>";

    const btn = document.getElementById("btnPaiement");
    btn.style.display = "block";
    btn.onclick = function() {
        window.location.href = "paiement.html?prix=" + prix;
    };
}
</script>

</body>
</html>
