<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Confirmation – H.K Transport</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
    body { margin:0; font-family:'Poppins', sans-serif; background:#f5f5f5; }
    header { background:#008000; padding:15px; text-align:center; color:white; font-size:22px; font-weight:600; }
    .card { background:white; padding:20px; border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,0.1); margin:20px auto; max-width:900px; }
    .tracking { font-size:22px; color:#008000; font-weight:600; }
    button { width:100%; padding:15px; font-size:18px; border:none; border-radius:10px; background:#008000; color:white; font-weight:bold; cursor:pointer; margin-top:15px; }
    button:hover { background:#006600; }
</style>
</head>

<body>

<header>Confirmation du paiement</header>

<div class="card">
    <h2>Paiement confirmé ✔</h2>

    <p>Merci pour votre confiance. Voici les détails de votre transaction :</p>

    <p><b>Montant payé :</b> <span id="montant"></span></p>
    <p><b>Mode de paiement :</b> <span id="mode"></span></p>
    <p><b>Votre numéro :</b> <span id="numero"></span></p>
    <p><b>Code de transaction :</b> <span id="code"></span></p>

    <hr>

    <p class="tracking">Numéro de suivi : <span id="tracking"></span></p>

    <button id="btnWhatsapp">Envoyer sur WhatsApp</button>
</div>

<script>
// Récupération des données
const params = new URLSearchParams(window.location.search);
document.getElementById("montant").textContent = params.get("prix") + " CFA";
document.getElementById("mode").textContent = params.get("mode");
document.getElementById("numero").textContent = params.get("numero");
document.getElementById("code").textContent = params.get("code");

// Génération du numéro de suivi
function genererTracking() {
    const prefix = "HK";
    const rand = Math.floor(100000 + Math.random() * 900000);
    return prefix + rand;
}

const tracking = genererTracking();
document.getElementById("tracking").textContent = tracking;

// WhatsApp
document.getElementById("btnWhatsapp").onclick = function() {
    const message = 
        "Bonjour, j’ai effectué un paiement pour un envoi de colis.%0A" +
        "Montant : " + params.get("prix") + " CFA%0A" +
        "Mode : " + params.get("mode") + "%0A" +
        "Numéro : " + params.get("numero") + "%0A" +
        "Code transaction : " + params.get("code") + "%0A" +
        "Numéro de suivi : " + tracking;

    window.location.href = "https://wa.me/221710344501?text=" + message;
};
</script>

</body>
</html>
