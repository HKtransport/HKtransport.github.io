<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Confirmation ‚Äì H.K Transport</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
    body { margin:0; font-family:'Poppins', sans-serif; background:#f5f5f5; }

    header {
        background:#008000;
        padding:15px;
        text-align:center;
        color:white;
        font-size:22px;
        font-weight:600;
    }

    .card {
        background:white;
        padding:20px;
        border-radius:12px;
        box-shadow:0 4px 15px rgba(0,0,0,0.1);
        margin:20px auto;
        max-width:900px;
    }

    .tracking {
        font-size:22px;
        color:#008000;
        font-weight:600;
    }

    button {
        width:100%;
        padding:15px;
        font-size:18px;
        border:none;
        border-radius:10px;
        background:#008000;
        color:white;
        font-weight:bold;
        cursor:pointer;
        margin-top:15px;
    }

    button:hover { background:#006600; }

    footer {
        background:#004d00;
        color:white;
        padding:20px;
        text-align:center;
        margin-top:40px;
    }
</style>
</head>

<body>

<header>Confirmation du paiement</header>

<div class="card">
    <h2>Paiement confirm√© ‚úî</h2>

    <p>Merci pour votre confiance. Voici les d√©tails de votre transaction :</p>

    <p><b>Montant pay√© :</b> <span id="montant"></span></p>
    <p><b>Mode de paiement :</b> <span id="mode"></span></p>
    <p><b>Votre num√©ro :</b> <span id="numero"></span></p>
    <p><b>Code de transaction :</b> <span id="code"></span></p>

    <hr>

    <p class="tracking">Num√©ro de suivi : <span id="tracking"></span></p>

    <button id="btnWhatsapp">Envoyer sur WhatsApp</button>
</div>

<footer>
    ¬© 2024 H.K Transport ‚Äì Tous droits r√©serv√©s  
    <br>üìû +221 77 000 00 00 ‚Äî ‚úâ contact@hktransport.com
</footer>

<script>
// R√©cup√©ration des donn√©es envoy√©es depuis paiement.html
const params = new URLSearchParams(window.location.search);
const prix = params.get("prix");
const mode = params.get("mode");
const numero = params.get("numero");
const code = params.get("code");

document.getElementById("montant").textContent = prix + " CFA";
document.getElementById("mode").textContent = mode;
document.getElementById("numero").textContent = numero;
document.getElementById("code").textContent = code;

// G√©n√©ration du num√©ro de suivi
function genererTracking() {
    const prefix = "HK";
    const rand = Math.floor(100000 + Math.random() * 900000);
    return prefix + rand;
}

const tracking = genererTracking();
document.getElementById("tracking").textContent = tracking;

// Enregistrement dans LocalStorage
function enregistrerPaiement() {
    const data = {
        prix: prix,
        mode: mode,
        numero: numero,
        code: code,
        tracking: tracking,
        date: new Date().toLocaleString()
    };

    let paiements = JSON.parse(localStorage.getItem("paiements") || "[]");
    paiements.push(data);
    localStorage.setItem("paiements", JSON.stringify(paiements));
}

enregistrerPaiement();

// Envoi WhatsApp
document.getElementById("btnWhatsapp").onclick = function() {
    const message =
        "Bonjour, j‚Äôai effectu√© un paiement pour un envoi de colis.%0A" +
        "Montant : " + prix + " CFA%0A" +
        "Mode : " + mode + "%0A" +
        "Num√©ro : " + numero + "%0A" +
        "Code transaction : " + code + "%0A" +
        "Num√©ro de suivi : " + tracking;

    window.location.href = "https://wa.me/221710344501?text=" + message;
};
</script>


</body>
</html>
